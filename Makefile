# Basics
CHAPTER_01 += chapter01_introduction.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../orientation/course_introduction.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../orientation/course_conventions.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../labo/submit_labo.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../architecture/architecture_definition_of_microcontrollers.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../code/code_what_is_programming.md

CHAPTER_01 += chapter01_tools.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../tools/tools_editors_and_ides.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../tools/tools_command_getting_started.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../tools/tools_command_getting_started_windows.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../tools/tools_command_getting_started_linux.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../tools/tools_compilation_getting_started.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../tools/tools_compilation_installing_windows.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../tools/tools_compilation_installing_linux_and_mac.md
CHAPTER_01 += ../../general/pandoc_page_break.txt
CHAPTER_01 += ../tools/tools_compilation_getting_started_excercise.md


CHAPTER_02 += chapter02_getting_started.md
CHAPTER_02 += ../../general/pandoc_page_break.txt
CHAPTER_02 += ../code/code_c_introduction.md
CHAPTER_02 += ../../general/pandoc_page_break.txt
CHAPTER_02 += ../labo/x86_statements.md
CHAPTER_02 += ../../general/pandoc_page_break.txt
CHAPTER_02 += ../code/code_c_conditions_and_loops_1_if_else_while.md
CHAPTER_02 += ../../general/pandoc_page_break.txt
CHAPTER_02 += ../code/code_c_conditions_and_loops_2_for.md
CHAPTER_02 += ../../general/pandoc_page_break.txt
CHAPTER_02 += ../labo/x86_loops_and_conditionals.md

CHAPTER_03 += chapter03_bits_and_bytes.md
CHAPTER_03 += ../../general/pandoc_page_break.txt
CHAPTER_03 += ../code/c_memory_intro_in_integers.md
CHAPTER_03 += ../../general/pandoc_page_break.txt
CHAPTER_03 += ../code/code_c_bittwiddling.md
CHAPTER_03 += ../../general/pandoc_page_break.txt
CHAPTER_03 += ../code/code_c_bits_and_sets.md
CHAPTER_03 += ../../general/pandoc_page_break.txt
CHAPTER_03 += ../code/code_c_bitmasks.md
CHAPTER_03 += ../../general/pandoc_page_break.txt
CHAPTER_03 += ../labo/avr_x86_shift_operators.md

CHAPTER_04 += chapter04_getting_started_with_embedded.md
CHAPTER_04 += ../../general/pandoc_page_break.txt
CHAPTER_04 += ../code/code_avr_gpio_1_registers_getting_started.md
CHAPTER_04 += ../../general/pandoc_page_break.txt
CHAPTER_04 += ../tools/tools_avr_get_started.md
CHAPTER_04 += ../../general/pandoc_page_break.txt
CHAPTER_04 += ../labo/avr_arduino_firsttime.md
CHAPTER_04 += ../../general/pandoc_page_break.txt
CHAPTER_04 += ../code/code_c_pointers_part1.md
CHAPTER_04 += ../../general/pandoc_page_break.txt

CHAPTER_05 += chapter05_gpio_output.md
CHAPTER_05 += ../../general/pandoc_page_break.txt
CHAPTER_05 += ../code/code_avr_gpio_2_output.md
CHAPTER_05 += ../../general/pandoc_page_break.txt
CHAPTER_05 += ../tools/tools_eclipse_getting_started.md
CHAPTER_05 += ../../general/pandoc_page_break.txt
CHAPTER_05 += ../labo/labo_led.md

CHAPTER_05 += chapter05_gpio_input.md
CHAPTER_05 += ../code/code_avr_gpio_3_input.md
CHAPTER_05 += ../../general/pandoc_page_break.txt
CHAPTER_05 += ../code/code_c_conditions_and_loops_3_do_while.md
CHAPTER_05 += ../../general/pandoc_page_break.txt
CHAPTER_05 += ../labo/labo_traffic_light.md

CHAPTER_06 += chapter06_functions_and_macros.md
CHAPTER_06 += ../../general/pandoc_page_break.txt
CHAPTER_06 += ../code/code_c_functions_and_procedures.md
CHAPTER_06 += ../../general/pandoc_page_break.txt
CHAPTER_06 += ../code/code_preprocessor.md
CHAPTER_06 += ../../general/pandoc_page_break.txt
CHAPTER_06 += ../labo/labo_functies_en_loop.md

CHAPTER_07 += chapter07_pointers_and_arrays.md
CHAPTER_07 += ../../general/pandoc_page_break.txt
CHAPTER_07 += ../code/code_memory_encoding.md
CHAPTER_07 += ../../general/pandoc_page_break.txt
CHAPTER_07 += ../code/code_pointers_and_arrays.md
CHAPTER_07 += ../../general/pandoc_page_break.txt
CHAPTER_07 += ../code/code_intro_in_pointers.md
CHAPTER_07 += ../../general/pandoc_page_break.txt
CHAPTER_07 += ../code/code_strings.md
CHAPTER_07 += ../../general/pandoc_page_break.txt
CHAPTER_07 += ../protocols/protocol_USART.md
CHAPTER_07 += ../../general/pandoc_page_break.txt
CHAPTER_07 += ../labo/x86_arrays.md

CHAPTER_08 += ../chapter/chapter08_interrupts.md
CHAPTER_08 += ../../general/pandoc_page_break.txt
CHAPTER_08 += ../code/code_avr_introduction_to_interrupts.md
CHAPTER_08 += ../../general/pandoc_page_break.txt
CHAPTER_08 += ../code/code_avr_introducion_to_timers.md
CHAPTER_08 += ../../general/pandoc_page_break.txt
CHAPTER_08 += ../labo/labo_interrupts.md

CHAPTER_09 += ../chapter/chapter09_analog.md
CHAPTER_09 += ../../general/pandoc_page_break.txt
CHAPTER_09 += ../code/avr_adc.md
CHAPTER_09 += ../../general/pandoc_page_break.txt
CHAPTER_09 += ../labo/avr_arduino_adc.md
CHAPTER_09 += ../../general/pandoc_page_break.txt
CHAPTER_09 += ../code/code_avr_timer_direct_output.md
CHAPTER_09 += ../../general/pandoc_page_break.txt
CHAPTER_09 += ../code/code_avr_pwm_basis.md
CHAPTER_09 += ../../general/pandoc_page_break.txt
CHAPTER_09 += ../code/code_avr_pwm.md
CHAPTER_09 += ../labo/avr_arduino_pwm.md

CHAPTER_10 += ../chapter/chapter10_memory.md
CHAPTER_10 += ../../general/pandoc_page_break.txt
CHAPTER_10 += ../code/c_memory_structs_and_unions.md
CHAPTER_10 += ../../general/pandoc_page_break.txt
CHAPTER_10 += ../labo/labo_struct_en_sensors.md
CHAPTER_10 += ../../general/pandoc_page_break.txt
CHAPTER_10 += ../code/code_c_character_classes_2.md

CHAPTER_11 += ../chapter/chapter11_i2c_spi.md
CHAPTER_11 += ../../general/pandoc_page_break.txt
CHAPTER_11 += ../protocols/protocol_I2C.md
CHAPTER_11 += ../../general/pandoc_page_break.txt
CHAPTER_11 += ../code/avr_I2C.md
CHAPTER_11 += ../../general/pandoc_page_break.txt
CHAPTER_11 += ../protocols/protocol_SPI.md
CHAPTER_11 += ../../general/pandoc_page_break.txt
CHAPTER_11 += ../labo/labo_i2c.md

CHAPTER_12 += ../chapter/chapter12_python.md
CHAPTER_12 += ../../general/pandoc_page_break.txt
CHAPTER_12 += ../code/code_python_serial.md

PY_CHAPTER_01 += ../code/python/00_part_one.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/01_intro_and_agreements.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/02_python_tooling_to_get_started.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/03_python_running_code.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/04_python_statements.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/05_python_comments.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/06_python_sequential_code.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/07_python_variables_and_types.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/08_python_expressions.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/09_input.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/10_python_conditional_flow.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/11_python_repetitive_flow.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/12_python_functions.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt
PY_CHAPTER_01 += ../code/python/00_part_one_excercises.md
PY_CHAPTER_01 += ../../general/pandoc_page_break.txt

PY_CHAPTER_02 += ../code/python/200_part_two.md
PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
PY_CHAPTER_02 += ../code/python/201_console.md
PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
PY_CHAPTER_02 += ../code/python/202_lists.md
PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
PY_CHAPTER_02 += ../code/python/203_strings.md
PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
PY_CHAPTER_02 += ../code/python/204_exceptions.md
PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
PY_CHAPTER_02 += ../code/python/204_files.md
PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
PY_CHAPTER_02 += ../code/python/203_functions_part_2.md
PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
PY_CHAPTER_02 += ../code/python/205_objects_and_classes.md
PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
PY_CHAPTER_02 += ../code/python/205_objects_ex_basket.md
PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
PY_CHAPTER_02 += ../code/python/206_tkinter.md
PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
#PY_CHAPTER_02 += ../code/python/207_gui_and_serial.md
#PY_CHAPTER_02 += ../../general/pandoc_page_break.txt
#PY_CHAPTER_02 += ../code/python/200_part_two_excercises.md

PY_CHAPTER_03 += ../code/python/300_part_three_data.md
PY_CHAPTER_03 += ../code/python/302_databases.md


PY_ANNEX += ../code/python/annex.md
PY_ANNEX += ../../general/pandoc_page_break.txt
PY_ANNEX += ../code/python/tools_command_getting_started.md
PY_ANNEX += ../../general/pandoc_page_break.txt
PY_ANNEX += ../code/python/tools_command_getting_started_windows.md
PY_ANNEX += ../../general/pandoc_page_break.txt
PY_ANNEX += ../code/python/tools_command_getting_started_linux.md

#CHAPTER_09 += ../labo/labo_interrupts.md

PY_CHAPTERS += $(PY_CHAPTER_01) $(PY_CHAPTER_02) $(PY_CHAPTER_03) $(PY_ANNEX)

pagebreak = ../../general/pandoc_page_break.txt

CHAPTERS = part01_minimal_knowledge.md $(pagebreak) $(CHAPTER_01) $(CHAPTER_02) $(CHAPTER_03)
#$(CHAPTER_04) part01_minimal_knowledge_summary.md part02_foundation.md $(CHAPTER_05) $(CHAPTER_06) $(CHAPTER_07) $(CHAPTER_08) $(CHAPTER_09) part03_next.md $(CHAPTER_10) $(CHAPTER_11) $(CHAPTER_12) ../extra.md
#CHAPTERS = part01_minimal_knowledge.md $(pagebreak) $(CHAPTER_01) $(CHAPTER_02) $(CHAPTER_03) $(CHAPTER_04) part01_minimal_knowledge_summary.md part02_foundation.md $(CHAPTER_05) $(CHAPTER_06) $(CHAPTER_07) $(CHAPTER_08) $(CHAPTER_09)

graph_to_png = dot -Tpng ./graphviz/$(1).dot -o ./pictures/$(1).png
grap_convert = gvpr -c '$(1)' ./graphviz/$(2).dot | dot -Tpng -o ./pictures/$(3).png



# Advanced

#debugging_code

all:
	cd nl/chapter && pandoc ../title.txt $(CHAPTERS) -o ../../dist/cursus_nl.epub --css ../../base.css --epub-cover-image=../front_page.jpg\

	cd nl/chapter && pandoc ../frontpage.md -o ../../dist/front_page_nl.html  --self-contained -c ../../github-pandoc.css

	cd nl/chapter && pandoc ../header.md -o ../../dist/header_nl.html  --self-contained -c ../../github-pandoc.css

	cd nl/chapter && pandoc ../title.txt $(CHAPTERS) -o ../../dist/cursus_nl.html -B ../../dist/header_nl.html  --self-contained --toc --toc-depth=2	-c ../../github-pandoc.css

	wkhtmltopdf dist/cursus_nl.html dist/cursus_nl.pdf

	zip dist/cursus_nl.zip dist/cursus_nl.epub dist/cursus_nl.html dist/cursus_nl.pdf

python_all:
	cd nl/chapter && pandoc ../title.txt $(PY_CHAPTERS) -o ../../dist/py_cursus_epub_nl.epub --css ../../base.css --epub-cover-image=../front_page.jpg\

	cd nl/chapter && pandoc ../frontpage.md -o ../../dist/front_page_nl.html  --self-contained -s -c ../../github-pandoc.css

	cd nl/chapter && pandoc ../header.md -o ../../dist/header_nl.html  --self-contained -s -c ../../github-pandoc.css

	cd nl/chapter && pandoc ../title.txt $(PY_CHAPTERS) -o ../../dist/py_cursus_nl.html -B ../../dist/header_nl.html  --self-contained -s --toc --toc-depth=2  -c ../../github-pandoc.css

	wkhtmltopdf dist/py_cursus_nl.html dist/py_cursus_nl.pdf

	zip dist/py_cursus_nl.zip dist/py_cursus_nl.epub dist/py_cursus_nl.html dist/py_cursus_nl.pdf

labos:
	cd nl/labo && pandoc  \
labo_header.md $(pagebreak) x86_statements.md $(pagebreak) x86_loops_and_conditionals.md $(pagebreak) avr_x86_shift_operators.md $(pagebreak) avr_arduino_firsttime.md $(pagebreak) avr_arduino_more_complex_in_group.md $(pagebreak) labo_functies_en_loop.md $(pagebreak) x86_arrays.md $(pagebreak) avr_arduino_adc.md $(pagebreak) labo_loops_extended.md labo_i2c.md\
		-o ../../dist/labos.epub

		cd nl/labo && pandoc  \
			labo_header.md $(pagebreak) x86_statements.md $(pagebreak) x86_loops_and_conditionals.md $(pagebreak) avr_x86_shift_operators.md $(pagebreak) avr_arduino_firsttime.md $(pagebreak) avr_arduino_more_complex_in_group.md $(pagebreak) labo_functies_en_loop.md $(pagebreak) x86_arrays.md $(pagebreak) avr_arduino_adc.md $(pagebreak) labo_loops_extended.md labo_i2c.md\
		-o ../../dist/labos.html

clean:
	rm dist/cursus.epub

build_graphs:
	#$(foreach dotfile,$(wildcard ./graphviz/*.dot),${call graph_to_pnge,$(dotfile)})
	${call graph_to_png,"code_hierachy_of_statements"}
	${call graph_to_png,"orientation_digital_courses"}
	${call graph_to_png,"intro_in_c_2_variables_1"}
	${call graph_to_png,"intro_in_c_2_variables_2"}
	${call graph_to_png,"assembly_build"}
	${call graph_to_png,"compile_build"}
	gvpr -c 'N[name=="simple_statement" | name=="assignment" | name=="function_call"]{color="blue"}' ./graphviz/code_hierachy_of_statements.dot | dot -Tpng -o ./pictures/code_focus_on_simple_statements.png
	gvpr -c 'N[name=="block_statement" | name=="conditional_statement"]{color="blue"}' ./graphviz/code_hierachy_of_statements.dot | dot -Tpng -o ./pictures/code_focus_on_conditions.png
